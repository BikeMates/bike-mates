@model BikeMates.Service.Models.RouteViewModel
@{
    Layout = "~/Views/Route/_Layout.cshtml";
}

@section Head{
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
}

@section Styles{
    @Styles.Render("~/Content/Route.css")
    @Styles.Render("~/Content/jquery-ui.css")
}
@section Scripts{
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/Scripts/jquery-ui.js")
    <script src="~/Scripts/App_Scripts/Route.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=initialize"></script>
}
<div style="width: 100%; height: 100%;">
    <hr />
    <div id="map"></div>
    <div class="container">

        @using (Html.BeginForm("Save", "Route", FormMethod.Post, new { @onsubmit = "return saveRoute()", @class = "form-horizontal", @id = "routeForm", role = "form", @enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            <hr />
            @Html.ValidationSummary("", new { @class = "text-danger" })
            
            @Html.HiddenFor(model => model.Id, htmlAttributes: new { @id = "Id" });
            <div class="center">
                <div class="form-inline">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Start, new { @class = "col-md-4 control-label" })
                        <div class="col-md-8">
                            @{
            Model.Start = DateTime.Today;
                            }
                            @Html.TextBoxFor(m => m.Start, "{0:dd/MM/yyyy}", htmlAttributes: new { @class = "form-control", @id = "datepicker" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Distance, "Total Distance:", new { @class = "col-md-5 control-label" })
                        <div class="col-md-5">
                            @Html.TextBoxFor(m => m.Distance, new { @class = "form-control", @id = "totalDistance" }) <span>km</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.Title, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.MeetingPlace, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        @Html.TextAreaFor(m => m.MeetingPlace, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.Description, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        @Html.TextAreaFor(m => m.Description, new { @class = "form-control" })
                    </div>
                </div>

                @Html.HiddenFor(model => model.MapData)

                <div class="form-inline pull-right">
                    <input type="button" class="btn btn-default" id="LoadMapButton" value="Load" />
                    <input type="button" class="btn btn-default" id="ClearMapButton" value="Clear"/>
                    <input type="submit" class="btn btn-default" id="SaveRouteButton" value="Save"/>
                </div>
            </div>
        }
    </div>
</div>